# Reference fingerprints used by tests to ensure normalization stability.
# Any change to this file indicates a breaking change in fingerprinting
# and should trigger a major version bump.
{"basic select / parentheses / semicolon": {"hash": "66cbb3a40d4bbd150b75825ad291a6545399f3098fc1079e4d8b5bb061a6a481", "normalized": "SELECT ?"}, "columns / comments / whitespace / missing semicolon": {"hash": "819ed510af1f56599a14cabd16e1bf7bf020dd6f6cdb4fa19241c068bc233016", "normalized": "SELECT id, email FROM users"}, "where eq (values should be normalized)": {"hash": "6f540be5517aaffe1774bebe9a2c0eba835e11cd8e1b07ea44046ae795008704", "normalized": "SELECT * FROM users WHERE id = ?"}, "boolean + null (case-insensitive)": {"hash": "50f29ad86ff32586eb992ac261630c4b40b92e75f635a40640967bb83959f9f5", "normalized": "SELECT * FROM users WHERE is_active = ? AND deleted_at IS NULL"}, "parentheses + OR/AND + string variants": {"hash": "559b74133ce5c0a75e68183b4c069938ba604961ddf694502992e215bb75adba", "normalized": "SELECT * FROM users WHERE (role = ? OR role = ?) AND is_active = ?"}, "IN list + comments": {"hash": "04da70aa0583720d9f251c5a3599811e03c31c9c3269f1acff8691933f27a4f6", "normalized": "SELECT * FROM users WHERE id IN (?, ?, ?, ?, ?)"}, "NOT IN list + whitespace + comments": {"hash": "99ff693ccb8a2489dcb1406db30eb018efe0ad4bcb6a73dcdf275d9c51a4dfc4", "normalized": "SELECT * FROM users WHERE id NOT IN (?, ?, ?)"}, "BETWEEN + date strings": {"hash": "c9c42a68fdcf5f1d8a4528a7a1169b512fb50ccc143b90919ea8fef28fcb563a", "normalized": "SELECT * FROM events WHERE created_at BETWEEN ? AND ?"}, "LIKE patterns": {"hash": "7bd1d8ff8a7f5f23c76c16ea2a7358a334f21b06d231f12eac70885c10921615", "normalized": "SELECT a FROM users WHERE email LIKE ?"}, "quoted identifiers (postgres/sqlite only)": {"hash": "b3b9fbd8ceb8c362d9688996e9efec70fa85fd1c6282d534e9281205e1d6f622", "normalized": "SELECT \"User\".id, \"User\".email FROM \"User\" WHERE \"User\".id = ?"}, "order_by_+_limit": {"hash": "7d09730fb0d3e986e984ee71eaffa74e74098a790f360f4f1fd07bbf3cc9a57c", "normalized": "SELECT id FROM users ORDER BY id LIMIT ?"}, "order by + offset + limit": {"hash": "f6b29107ab622415247783686ad444d3c285c090fe29071e3063f7c1267a1bac", "normalized": "SELECT id FROM users ORDER BY id LIMIT ? OFFSET ?"}, "order by + limit offset (mysql style)": {"hash": "09a79e9ad5ad23127c4a40cef07fa9eece2ec9e47348275c187e9196d68f76b2", "normalized": "SELECT id FROM users ORDER BY id LIMIT ?, ?"}, "distinct": {"hash": "f482b1905194e7ac3842c4c802224dcf8dfb33cf9a8ec5e0f3506ba4582e59cc", "normalized": "SELECT DISTINCT email FROM users"}, "table alias with AS": {"hash": "fc514fc160f99e2dfd7baa92aaa43f3e0c855d23a92ea71b8538687f0027a8e8", "normalized": "SELECT u.id FROM users u"}, "column alias with AS": {"hash": "bea256549528d4fe05e38271dd04a78032e12c14bcf9c39eb59ae5f1577cc3e1", "normalized": "SELECT id AS user_id FROM users"}, "multiple aliases": {"hash": "ea16c474689e69494ebb157f90c3205bb42e9ca255c353d75c71b4986454e5c9", "normalized": "SELECT u.id AS uid, u.email AS mail FROM users u"}, "inner join basic": {"hash": "b9cf8b36a2fde10f6b2ef202bb75350285cf84b6aebede8da47793ce9975205a", "normalized": "SELECT u.id, o.id FROM users u JOIN orders o ON o.user_id = u.id"}, "left join": {"hash": "2b8871cdcae16eb903bfe396f241bda593c9dceec8efaceeead2ba7ea559f92e", "normalized": "SELECT u.id, p.bio FROM users u LEFT JOIN profiles p ON p.user_id = u.id"}, "join_with_multiple_conditions": {"hash": "8dc1c5ece4c91c62ba9acbdac7153f9b80303adbb514c231ed681a121b0b3ce8", "normalized": "SELECT * FROM a JOIN b ON a.id = b.a_id AND b.is_active = ?"}, "join using": {"hash": "33017bc48c8059a70e9bd691c29fcb7f1d7217b29493110f526cff4cd80efff6", "normalized": "SELECT * FROM users JOIN orders USING(user_id)"}, "group by basic count star": {"hash": "a29f57cf6b59651fe738ec43f58225708c896bebde37792cd4b0d98f786ee1b1", "normalized": "SELECT user_id, COUNT(*) FROM orders GROUP BY user_id"}, "group by basic count literal": {"hash": "8c73b8d460a877610d75f27e0f9daa41c497ecb718ababec6f0ec27e55a5cb28", "normalized": "SELECT user_id, COUNT(?) FROM orders GROUP BY user_id"}, "group by + having": {"hash": "f8c09a6d46567a6822f4c2499800591f9b9099701687a081146d9bb903eefed2", "normalized": "SELECT user_id, COUNT(*) AS c FROM orders GROUP BY user_id HAVING COUNT(*) > ?"}, "subquery in where": {"hash": "c9679c7a4c001b60c929e18b6f5a5a22a4845cb0d8b62fcf02d16157326e6445", "normalized": "SELECT * FROM users WHERE id IN (SELECT user_id FROM orders)"}, "exists subquery": {"hash": "083920ff0c41ebc455a45517047544b3a026f4f2d4b55d971bd8ddde1daaa632", "normalized": "SELECT * FROM users u WHERE EXISTS (SELECT ? FROM orders o WHERE o.user_id = u.id)"}, "not exists subquery": {"hash": "af484577f0dcd114dc70b732cc811ba083b547482eec9530caae8bc0fca2672c", "normalized": "SELECT * FROM users u WHERE NOT EXISTS (SELECT ? FROM orders o WHERE o.user_id = u.id)"}, "union": {"hash": "fb7f2f089272091c256eda3acc37cf800745409947adf08140d9724a8feb1bc9", "normalized": "SELECT id FROM users UNION SELECT id FROM admins"}, "union all": {"hash": "ea650514bdb790cecfdbe5fef1aab5ac5b016f233c39bc5200eed2d74d906972", "normalized": "SELECT id FROM users UNION ALL SELECT id FROM admins"}, "case when basic": {"hash": "5e960a9d249af8718a68829fe6f9d585c2b950203e967ea6dd1b946818875035", "normalized": "SELECT CASE WHEN is_active = ? THEN ? ELSE ? END FROM users"}, "case when with alias": {"hash": "40cb7c70ef9167c485fffca3202a65ef6158ba105c5dd77f9b6031f9f337ac70", "normalized": "SELECT CASE WHEN role = ? THEN ? ELSE ? END AS kind FROM users"}, "coalesce": {"hash": "c4a9266771d3fd906b14bc6cc9f87da6b59be7c7e65d500ae51f52fb2536517f", "normalized": "SELECT COALESCE(email, ?) FROM users"}, "lower/upper": {"hash": "08e79fd68f3eceefa83078dfff0065e0a3f3430a18f8391effdd5ef704622d6f", "normalized": "SELECT LOWER(email) FROM users"}, "concat": {"hash": "b482e56dac87b7ef95258567cc3276e8d7bcb09dc1ec3cec4225c5d70ff5846a", "normalized": "SELECT CONCAT(first_name, ?, last_name) FROM users"}, "cast standard": {"hash": "fe5db623d43b02e1c454cd59a94df9f3516c73605eb606ce6223a166ac4dc9c2", "normalized": "SELECT CAST(id AS TEXT) FROM users"}, "postgres cast operator ::": {"hash": "6c776c15ef20a1d3ece2f8b9220b814f38c8e9d20c558e34c8244a87f82bdf92", "normalized": "SELECT id::TEXT FROM users"}, "cte basic": {"hash": "e5a55d763fee641470fd73949b598004c9faae4617f0b5880cf087089d278ae2", "normalized": "WITH u AS (SELECT id FROM users) SELECT * FROM u"}, "cte with multiple": {"hash": "a75d8444dcd9f257899e6637fc1b7044cfcfff102983bc06b6e3a61cb20e835c", "normalized": "WITH u AS (SELECT id FROM users), o AS (SELECT user_id FROM orders) SELECT * FROM u JOIN o ON o.user_id = u.id"}, "window row_number": {"hash": "f2646a367d8e8855256033582b9f2b6b7c130d44c221480b2bc715e6dbde32cf", "normalized": "SELECT ROW_NUMBER() OVER (ORDER BY id) FROM users"}, "window partition by": {"hash": "f68715810a9275a4623ba4e0d1a733943bd03f51f52806a2bd200d253a8c80cb", "normalized": "SELECT COUNT(?) OVER (PARTITION BY user_id) FROM orders"}, "insert values": {"hash": "1ffb6d1db9d0a45dee9a22cd101352f5e929b6a68def2c8b1025a126c89c2694", "normalized": "INSERT INTO users (id, email) VALUES (?, ?)"}, "insert default values": {"hash": "a5837a804a7bc06e0556e691f534f8b1e083e912f889179674fd0f039fa88863", "normalized": "INSERT INTO users DEFAULT VALUES"}, "update set": {"hash": "636dcd2885898161002a94987354c5e67bd1647c2722884f03d85df89163bbae", "normalized": "UPDATE users SET email = ? WHERE id = ?"}, "delete where": {"hash": "73ffdf5be39aa5c4c160c2f77d6634a6970eeb4e1d3395f045ded747f0ce9d2a", "normalized": "DELETE FROM users WHERE id = ?"}, "mysql backtick identifiers": {"hash": "2e11f5356da769df51229da5604e378d05ff1607b1f416299605c424d0f75eaa", "normalized": "SELECT `User`.id, `User`.email FROM `User` WHERE `User`.id = ?"}, "line comments": {"hash": "7750f6ddb495fe929c5f009f3d80863ddf4d922035c6c87a23b22d3f48704028", "normalized": "SELECT id FROM users WHERE id = ?"}, "block comments": {"hash": "7750f6ddb495fe929c5f009f3d80863ddf4d922035c6c87a23b22d3f48704028", "normalized": "SELECT id FROM users WHERE id = ?"}, "order by position": {"hash": "4d097dc815d99998eb45eb99dd6328c6b698fb31fba74033c2a8154a5186b250", "normalized": "SELECT id, email FROM users ORDER BY ?"}, "group by position": {"hash": "6529541d13e3e15645b2b890b2ef57a22a40005941fd49afd00a0b739ef4a6aa", "normalized": "SELECT user_id, COUNT(*) FROM orders GROUP BY ?"}, "order by nulls last postgres": {"hash": "fd67d11ada9dd719ae52be332c2a34d79593d9d6ba1d117c2533a4ae2e940453", "normalized": "SELECT id FROM users ORDER BY last_login NULLS LAST"}, "order by nulls first postgres": {"hash": "fbbd765c8437238b8c40c9b7015a86d2a058aa5fbbb5d4782daee91483a2ea23", "normalized": "SELECT id FROM users ORDER BY last_login NULLS FIRST"}, "ilike postgres": {"hash": "40e40d4152a930e824a5fbe2533ba5030f540c664ec34987ae8767d5a9694971", "normalized": "SELECT * FROM users WHERE email ILIKE ?"}, "distinct on postgres": {"hash": "f10649ea239f1f636c7a8a2cbd9afb2442d7e1398399557a13f57673f7c7e44c", "normalized": "SELECT DISTINCT ON (user_id) user_id, created_at FROM orders ORDER BY user_id, created_at DESC"}, "insert returning postgres": {"hash": "632b307158fb4894fc39074b35f75c51f3b48e030eec5742742366fddeb23587", "normalized": "INSERT INTO users (email) VALUES (?) RETURNING id"}, "update returning postgres": {"hash": "9a07125ed67429f04593535a68225261d5791c8062b5df639ec6ebc2d7466b0b", "normalized": "UPDATE users SET email = ? WHERE id = ? RETURNING id"}, "delete returning postgres": {"hash": "18aab7e9c2e96be8dedf1e9e4b9ba5c77eb7c809f6bd0fe4ed89fe5a4eab6641", "normalized": "DELETE FROM users WHERE id = ? RETURNING id"}, "update from postgres": {"hash": "00fa112b2daa9856200d548b3a52b82e84cc24ac51499d65640016af50b2ee38", "normalized": "UPDATE users u SET email = o.email FROM orders o WHERE o.user_id = u.id"}, "insert on conflict do nothing postgres": {"hash": "e7e2600c78bf96e7ec4f19eaf1d2742509882f516db086e3224f27f88a16a225", "normalized": "INSERT INTO users (email) VALUES (?) ON CONFLICT DO NOTHING"}, "insert on conflict do update postgres": {"hash": "f8646c53d12a42985c797a4d75fcac341d428f8d1b5ecc706304f829646d9ba2", "normalized": "INSERT INTO users (id, email) VALUES (?, ?) ON CONFLICT(id) DO UPDATE SET email = EXCLUDED.email"}, "mysql on duplicate key update": {"hash": "6328c2237ae1449cd06d4b933e384042a17958811efcda92e59c3001737b276c", "normalized": "INSERT INTO users (id, email) VALUES (?, ?) ON DUPLICATE KEY UPDATE email = VALUES(email)"}, "mysql insert ignore": {"hash": "8a54d5816e0a1781e9802bfdd585155d852b9f504dfe5028decc67d2a9388a9e", "normalized": "INSERT IGNORE INTO users (id, email) VALUES (?, ?)"}, "mysql replace into": {"hash": "c9024630f400cef461921fd68c980b1d196cdf4b5df3f6d13f36dce487824402", "normalized": "REPLACE INTO users (id, email) VALUES (?, ?)"}, "postgres json extract operator": {"hash": "cd6ef16bd09586a14f1ed3e50b3933ec56eef87ddd480e197fb18dc157e402de", "normalized": "SELECT payload ->> ? FROM events"}, "postgres json nested operator": {"hash": "6f10bd2daf78ab70b4b814d9e8da7006027c823f9131eb47d38192653d83da5a", "normalized": "SELECT payload -> ? ->> ? FROM events"}, "mysql json_extract": {"hash": "026affcec212b73009274dabd1cd52a61d064bf321b01a0b4cc67041e7006e8d", "normalized": "SELECT JSON_EXTRACT(payload, ?) FROM events"}, "mysql json_unquote": {"hash": "528aca405b31486edac4b054b154fc6ef01e214c5df42eccd0cf5936fe7fb5a8", "normalized": "SELECT JSON_UNQUOTE(JSON_EXTRACT(payload, ?)) FROM events"}, "mysql regexp": {"hash": "70b1f5ca8f99b88e7717dcd86d4fb3c2d31efba6f981abece9441e934a1ddea4", "normalized": "SELECT * FROM users WHERE email REGEXP ?"}, "sqlite limit offset": {"hash": "f6b29107ab622415247783686ad444d3c285c090fe29071e3063f7c1267a1bac", "normalized": "SELECT id FROM users ORDER BY id LIMIT ? OFFSET ?"}, "with recursive": {"hash": "5e431fe83bf057c048bf208a6523d6ae362773180b44c11fb6f6a44216fbe5d3", "normalized": "WITH RECURSIVE t (n) AS (SELECT ? UNION ALL SELECT n + ? FROM t WHERE n < ?) SELECT * FROM t"}, "exists correlated": {"hash": "a6610577b396c78242833ce752d31a4df904fd607fbdcf0aecf5c5f75e5cd8c6", "normalized": "SELECT * FROM users u WHERE EXISTS (SELECT ? FROM orders o WHERE o.user_id = u.id AND o.total > ?)"}, "row value in": {"hash": "29b81ab0472189b6c45e0bc00dfc6c1a597d32e35c7749c4c408da1317c55f34", "normalized": "SELECT * FROM t WHERE (a, b) IN ((?, ?), (?, ?))"}, "cast to int": {"hash": "545278b54bf98d678f0a20e188ab6b0421846c3678f67da8e0092fcabbc96bcc", "normalized": "SELECT CAST(id AS INTEGER) FROM users"}, "cast to timestamp": {"hash": "9bcf7cf97e6ae9224eae9004180efecbf5f095e8d3e1a11789ffa367197b004d", "normalized": "SELECT CAST(created_at AS TIMESTAMP) FROM events"}, "postgres cast uuid": {"hash": "b0080edac981746a9091fbdc787057d7dcc96320f474a397c642f6d39ec1d1c0", "normalized": "SELECT id::UUID FROM users"}, "postgres cast timestamptz": {"hash": "2cc8c9c6933a27fa5a1b578e2b902b8d15c80e90ff6b13b88950e576ba8d6155", "normalized": "SELECT created_at::TIMESTAMPTZ FROM events"}, "postgres any": {"hash": "32dbe8541360e2acf2fd205b4e6e955a6ce3daa10c0504186fa45e0c99f3b6ee", "normalized": "SELECT * FROM users WHERE id = ANY(ARRAY[?, ?, ?])"}, "mysql if expression": {"hash": "b81d805173aa6ad1fb9b86f13efde1f30443f2a727ff98e65c86145d69558084", "normalized": "SELECT IF(is_active, ?, ?) FROM users"}, "coalesce multiple args": {"hash": "6987e147ef5458187609572c6e923711d7358b23cb0ce360fd27c032e0ace0ff", "normalized": "SELECT COALESCE(a, b, c, ?) FROM t"}, "having aggregate": {"hash": "6872b7a9da0f4e28508209b5e7bf705b295853ebc8a21b8c6289d7da44467e71", "normalized": "SELECT user_id, COUNT(*) FROM orders GROUP BY user_id HAVING COUNT(*) >= ?"}, "nested parentheses comparisons": {"hash": "6f540be5517aaffe1774bebe9a2c0eba835e11cd8e1b07ea44046ae795008704", "normalized": "SELECT * FROM users WHERE id = ?"}, "arithmetic expressions": {"hash": "8e31da8d9b4f5c269555018dbccbfcc6b5a59eb7a360f5c124d7b260e7c34b57", "normalized": "SELECT price * quantity + tax FROM orders"}, "is distinct from postgres": {"hash": "1cd9aefc2dee9ecfe829395b512a2a26e2062db81b1b837bddf08aaa296c37df", "normalized": "SELECT * FROM users WHERE email IS DISTINCT FROM ?"}, "aggregate filter postgres": {"hash": "03a711b1d84b95470314f0a3f6f5ad93c2a8cc995a8950d5be7dc6aeceb3f8a6", "normalized": "SELECT COUNT(*) FILTER (WHERE is_active = ?) FROM users"}, "cross join": {"hash": "c0472ec6eb6a16a95494217b5c018483caf380e7dfd238749cd12c1ef6ac4034", "normalized": "SELECT * FROM users CROSS JOIN roles"}, "schema qualified names": {"hash": "6656cdfa51a2fecbf756daa5e95e73bff2ab5ea2bc758037851e113d341b44b5", "normalized": "SELECT * FROM public.users"}, "postgres quoted schema table": {"hash": "cfa6c4ecaff1d9f3d0bd740ef0899f177b1a25ae37717b25ca441a492cfafc9f", "normalized": "SELECT * FROM \"public\".\"User\""}, "orm postgres huge select with many aliases": {"hash": "ce416c1754efa4478f84e2ccd9ae5a685ec456c935bff2ccb674d28ba9945bc8", "normalized": "SELECT \"auth_user\".\"id\" AS \"col1\", \"auth_user\".\"password\" AS \"col2\", \"auth_user\".\"last_login\" AS \"col3\", \"auth_user\".\"is_superuser\" AS \"col4\", \"auth_user\".\"username\" AS \"col5\", \"auth_user\".\"first_name\" AS \"col6\", \"auth_user\".\"last_name\" AS \"col7\", \"auth_user\".\"email\" AS \"col8\", \"auth_user\".\"is_staff\" AS \"col9\", \"auth_user\".\"is_active\" AS \"col10\", \"auth_user\".\"date_joined\" AS \"col11\", \"profile_profile\".\"id\" AS \"col12\", \"profile_profile\".\"user_id\" AS \"col13\", \"profile_profile\".\"company\" AS \"col14\", \"profile_profile\".\"job_title\" AS \"col15\", \"profile_profile\".\"timezone\" AS \"col16\", \"profile_profile\".\"created_at\" AS \"col17\" FROM \"auth_user\" LEFT JOIN \"profile_profile\" ON \"profile_profile\".\"user_id\" = \"auth_user\".\"id\" WHERE \"auth_user\".\"is_active\" = ? AND \"auth_user\".\"email\" ILIKE ? ORDER BY \"auth_user\".\"id\" LIMIT ? OFFSET ?"}, "orm postgres deep joins with select many columns": {"hash": "179ba1c59b493f2a82b985752fb5a322b526f5c1cc49545887743583f0c0096d", "normalized": "SELECT \"shop_order\".\"id\" AS \"col1\", \"shop_order\".\"user_id\" AS \"col2\", \"shop_order\".\"status\" AS \"col3\", \"shop_order\".\"total_cents\" AS \"col4\", \"shop_order\".\"currency\" AS \"col5\", \"shop_order\".\"created_at\" AS \"col6\", \"shop_order\".\"updated_at\" AS \"col7\", \"shop_orderitem\".\"id\" AS \"col8\", \"shop_orderitem\".\"order_id\" AS \"col9\", \"shop_orderitem\".\"product_id\" AS \"col10\", \"shop_orderitem\".\"quantity\" AS \"col11\", \"shop_orderitem\".\"unit_price_cents\" AS \"col12\", \"catalog_product\".\"id\" AS \"col13\", \"catalog_product\".\"sku\" AS \"col14\", \"catalog_product\".\"name\" AS \"col15\", \"catalog_product\".\"is_active\" AS \"col16\" FROM \"shop_order\" JOIN \"shop_orderitem\" ON \"shop_orderitem\".\"order_id\" = \"shop_order\".\"id\" JOIN \"catalog_product\" ON \"catalog_product\".\"id\" = \"shop_orderitem\".\"product_id\" WHERE \"shop_order\".\"user_id\" = ? AND \"shop_order\".\"status\" IN (?, ?, ?) AND \"catalog_product\".\"is_active\" = ? ORDER BY \"shop_order\".\"created_at\" DESC, \"shop_order\".\"id\" DESC LIMIT ?"}, "orm postgres correlated subquery exists": {"hash": "cc01d47ae18d794c3a3ca01683f8a04b2f7e619098e18f1b48eded33c81068e8", "normalized": "SELECT \"auth_user\".\"id\" AS \"col1\", \"auth_user\".\"email\" AS \"col2\" FROM \"auth_user\" WHERE EXISTS (SELECT ? FROM \"shop_order\" WHERE \"shop_order\".\"user_id\" = \"auth_user\".\"id\" AND \"shop_order\".\"status\" = ? AND \"shop_order\".\"total_cents\" > ?) ORDER BY \"auth_user\".\"id\" LIMIT ?"}, "orm postgres json extract in where": {"hash": "fbe25385ea62d5f2b43aabd8a06a73d8287f6679156be48648a1aecb09c3a881", "normalized": "SELECT \"events_event\".\"id\" AS \"col1\", \"events_event\".\"created_at\" AS \"col2\", \"events_event\".\"payload\" AS \"col3\" FROM \"events_event\" WHERE \"events_event\".\"payload\" ->> ? = ? AND \"events_event\".\"payload\" -> ? ->> ? = ? AND \"events_event\".\"created_at\" >= ? ORDER BY \"events_event\".\"created_at\" DESC LIMIT ?"}, "orm postgres cte + join + aggregation": {"hash": "8fb9e98d43755a600183dde592b7b001284a5bc79b49f61aeb16d98892424387", "normalized": "WITH \"recent_orders\" AS (SELECT \"shop_order\".\"id\" AS \"id\", \"shop_order\".\"user_id\" AS \"user_id\", \"shop_order\".\"total_cents\" AS \"total_cents\", \"shop_order\".\"created_at\" AS \"created_at\" FROM \"shop_order\" WHERE \"shop_order\".\"created_at\" >= ? AND \"shop_order\".\"status\" IN (?, ?)) SELECT \"recent_orders\".\"user_id\" AS \"col1\", COUNT(*) AS \"col2\", SUM(\"recent_orders\".\"total_cents\") AS \"col3\" FROM \"recent_orders\" GROUP BY \"recent_orders\".\"user_id\" HAVING COUNT(*) >= ? ORDER BY SUM(\"recent_orders\".\"total_cents\") DESC LIMIT ?"}, "orm postgres update returning": {"hash": "87fc6fcb20a606b4a5fc0ad53ecbc36bb0ee7d15445d1f01f971fe16c6698dee", "normalized": "UPDATE \"profile_profile\" SET \"timezone\" = ?, \"updated_at\" = NOW() WHERE \"profile_profile\".\"user_id\" = ? RETURNING \"profile_profile\".\"id\", \"profile_profile\".\"user_id\""}, "orm postgres insert on conflict do update returning": {"hash": "97c461b491374a7d44ea44954da03b4791944edb7a2843e38765f0fda99667f3", "normalized": "INSERT INTO \"profile_profile\" (\"user_id\", \"company\", \"job_title\") VALUES (?, ?, ?) ON CONFLICT(\"user_id\") DO UPDATE SET \"company\" = EXCLUDED.\"company\", \"job_title\" = EXCLUDED.\"job_title\" RETURNING \"profile_profile\".\"id\""}, "orm postgres window function over partition": {"hash": "25ecb0f2b9d8ea20aa8e7f20238eb56de37681ea6d0d34311902c7797fed2e6d", "normalized": "SELECT \"shop_order\".\"user_id\" AS \"col1\", \"shop_order\".\"id\" AS \"col2\", ROW_NUMBER() OVER (PARTITION BY \"shop_order\".\"user_id\" ORDER BY \"shop_order\".\"created_at\" DESC) AS \"col3\" FROM \"shop_order\" WHERE \"shop_order\".\"status\" = ? ORDER BY \"shop_order\".\"user_id\", \"shop_order\".\"created_at\" DESC LIMIT ?"}, "orm postgres huge in list": {"hash": "0b7effd4b6f377063620379433245dce6a39f5832aebd3360aa632130a526fc1", "normalized": "SELECT \"auth_user\".\"id\", \"auth_user\".\"email\" FROM \"auth_user\" WHERE \"auth_user\".\"id\" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ORDER BY \"auth_user\".\"id\""}, "orm mysql huge select with backticks and aliases": {"hash": "8f02e3890fa8fb623bedee33abe8efc08f943a8875745811ae18351895740653", "normalized": "SELECT `auth_user`.`id` AS `col1`, `auth_user`.`username` AS `col2`, `auth_user`.`email` AS `col3`, `auth_user`.`is_active` AS `col4`, `profile_profile`.`id` AS `col5`, `profile_profile`.`user_id` AS `col6`, `profile_profile`.`company` AS `col7`, `profile_profile`.`job_title` AS `col8` FROM `auth_user` LEFT JOIN `profile_profile` ON `profile_profile`.`user_id` = `auth_user`.`id` WHERE `auth_user`.`is_active` = ? AND `auth_user`.`email` LIKE ? ORDER BY `auth_user`.`id` LIMIT ? OFFSET ?"}, "orm mysql deep joins + order by": {"hash": "eedd4ff85c281e62bbb6333dd2c1012be9673280b5789adc7485fce8e79bbe81", "normalized": "SELECT `shop_order`.`id` AS `col1`, `shop_order`.`user_id` AS `col2`, `shop_order`.`status` AS `col3`, `shop_order`.`total_cents` AS `col4`, `shop_orderitem`.`id` AS `col5`, `shop_orderitem`.`order_id` AS `col6`, `shop_orderitem`.`product_id` AS `col7`, `shop_orderitem`.`quantity` AS `col8`, `catalog_product`.`id` AS `col9`, `catalog_product`.`sku` AS `col10`, `catalog_product`.`name` AS `col11` FROM `shop_order` JOIN `shop_orderitem` ON `shop_orderitem`.`order_id` = `shop_order`.`id` JOIN `catalog_product` ON `catalog_product`.`id` = `shop_orderitem`.`product_id` WHERE `shop_order`.`user_id` = ? AND `shop_order`.`status` IN (?, ?, ?) ORDER BY `shop_order`.`created_at` DESC, `shop_order`.`id` DESC LIMIT ?"}, "orm mysql correlated exists": {"hash": "cfac05e8eec935fef19d5e4bc0302c42926710bc6e7acb1583ea20f813656fa8", "normalized": "SELECT `auth_user`.`id` AS `col1`, `auth_user`.`email` AS `col2` FROM `auth_user` WHERE EXISTS (SELECT ? FROM `shop_order` WHERE `shop_order`.`user_id` = `auth_user`.`id` AND `shop_order`.`status` = ? AND `shop_order`.`total_cents` > ?) ORDER BY `auth_user`.`id` LIMIT ?"}, "orm mysql json_extract where": {"hash": "52ecab1f6543663b8cfb45ea0527ba98de56b7ade1591aafeca6817d41ab1593", "normalized": "SELECT `events_event`.`id` AS `col1`, `events_event`.`created_at` AS `col2`, `events_event`.`payload` AS `col3` FROM `events_event` WHERE JSON_EXTRACT(`events_event`.`payload`, ?) = ? AND JSON_EXTRACT(`events_event`.`payload`, ?) = ? ORDER BY `events_event`.`created_at` DESC LIMIT ?"}, "orm mysql insert on duplicate key update": {"hash": "4276d1109775255a644f6c28f01f351e9cf0e1daf67d0b6b37d5c8b2e6308e23", "normalized": "INSERT INTO `profile_profile` (`user_id`, `company`, `job_title`) VALUES (?, ?, ?) ON DUPLICATE KEY UPDATE `company` = VALUES(`company`), `job_title` = VALUES(`job_title`)"}, "orm mysql huge in list": {"hash": "5fa2afc44fdc16cb9e22a347d05d9a763cdffcb221cedf27cf80b037f2b78cee", "normalized": "SELECT `auth_user`.`id`, `auth_user`.`email` FROM `auth_user` WHERE `auth_user`.`id` IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ORDER BY `auth_user`.`id`"}, "orm sqlite huge select": {"hash": "0ff84ec4b7a24c187ca617e77a30cee635329f29aa372c50e198ddfc972d64ac", "normalized": "SELECT \"auth_user\".\"id\" AS \"col1\", \"auth_user\".\"username\" AS \"col2\", \"auth_user\".\"email\" AS \"col3\", \"auth_user\".\"is_active\" AS \"col4\", \"profile_profile\".\"id\" AS \"col5\", \"profile_profile\".\"user_id\" AS \"col6\", \"profile_profile\".\"company\" AS \"col7\", \"profile_profile\".\"job_title\" AS \"col8\" FROM \"auth_user\" LEFT JOIN \"profile_profile\" ON \"profile_profile\".\"user_id\" = \"auth_user\".\"id\" WHERE \"auth_user\".\"is_active\" = ? AND \"auth_user\".\"email\" LIKE ? ORDER BY \"auth_user\".\"id\" LIMIT ? OFFSET ?"}, "orm sqlite correlated exists": {"hash": "cc01d47ae18d794c3a3ca01683f8a04b2f7e619098e18f1b48eded33c81068e8", "normalized": "SELECT \"auth_user\".\"id\" AS \"col1\", \"auth_user\".\"email\" AS \"col2\" FROM \"auth_user\" WHERE EXISTS (SELECT ? FROM \"shop_order\" WHERE \"shop_order\".\"user_id\" = \"auth_user\".\"id\" AND \"shop_order\".\"status\" = ? AND \"shop_order\".\"total_cents\" > ?) ORDER BY \"auth_user\".\"id\" LIMIT ?"}, "orm sqlite cte aggregation": {"hash": "8fb9e98d43755a600183dde592b7b001284a5bc79b49f61aeb16d98892424387", "normalized": "WITH \"recent_orders\" AS (SELECT \"shop_order\".\"id\" AS \"id\", \"shop_order\".\"user_id\" AS \"user_id\", \"shop_order\".\"total_cents\" AS \"total_cents\", \"shop_order\".\"created_at\" AS \"created_at\" FROM \"shop_order\" WHERE \"shop_order\".\"created_at\" >= ? AND \"shop_order\".\"status\" IN (?, ?)) SELECT \"recent_orders\".\"user_id\" AS \"col1\", COUNT(*) AS \"col2\", SUM(\"recent_orders\".\"total_cents\") AS \"col3\" FROM \"recent_orders\" GROUP BY \"recent_orders\".\"user_id\" HAVING COUNT(*) >= ? ORDER BY SUM(\"recent_orders\".\"total_cents\") DESC LIMIT ?"}, "orm oracle huge select with many columns and aliases": {"hash": "05252cc959f37826a0cd5d0f3a298847f25628a11fc8a747f1d4b0b2a9bfc052", "normalized": "SELECT \"AUTH_USER\".\"ID\" AS \"COL1\", \"AUTH_USER\".\"USERNAME\" AS \"COL2\", \"AUTH_USER\".\"EMAIL\" AS \"COL3\", \"AUTH_USER\".\"IS_ACTIVE\" AS \"COL4\", \"AUTH_USER\".\"DATE_JOINED\" AS \"COL5\", \"PROFILE_PROFILE\".\"ID\" AS \"COL6\", \"PROFILE_PROFILE\".\"USER_ID\" AS \"COL7\", \"PROFILE_PROFILE\".\"COMPANY\" AS \"COL8\", \"PROFILE_PROFILE\".\"JOB_TITLE\" AS \"COL9\", \"PROFILE_PROFILE\".\"TIMEZONE\" AS \"COL10\" FROM \"AUTH_USER\" LEFT JOIN \"PROFILE_PROFILE\" ON \"PROFILE_PROFILE\".\"USER_ID\" = \"AUTH_USER\".\"ID\" WHERE \"AUTH_USER\".\"IS_ACTIVE\" = ? AND \"AUTH_USER\".\"EMAIL\" LIKE ? ORDER BY \"AUTH_USER\".\"ID\" OFFSET ? ROWS FETCH FIRST ? ROWS ONLY"}, "orm oracle deep joins with many aliases": {"hash": "a31b51e114c2e32263e620d0ffa69f9fb6e92dc235a88b9ef386302ac275ac74", "normalized": "SELECT \"SHOP_ORDER\".\"ID\" AS \"COL1\", \"SHOP_ORDER\".\"USER_ID\" AS \"COL2\", \"SHOP_ORDER\".\"STATUS\" AS \"COL3\", \"SHOP_ORDER\".\"TOTAL_CENTS\" AS \"COL4\", \"SHOP_ORDER\".\"CREATED_AT\" AS \"COL5\", \"SHOP_ORDERITEM\".\"ID\" AS \"COL6\", \"SHOP_ORDERITEM\".\"ORDER_ID\" AS \"COL7\", \"SHOP_ORDERITEM\".\"PRODUCT_ID\" AS \"COL8\", \"SHOP_ORDERITEM\".\"QUANTITY\" AS \"COL9\", \"CATALOG_PRODUCT\".\"ID\" AS \"COL10\", \"CATALOG_PRODUCT\".\"SKU\" AS \"COL11\", \"CATALOG_PRODUCT\".\"NAME\" AS \"COL12\" FROM \"SHOP_ORDER\" JOIN \"SHOP_ORDERITEM\" ON \"SHOP_ORDERITEM\".\"ORDER_ID\" = \"SHOP_ORDER\".\"ID\" JOIN \"CATALOG_PRODUCT\" ON \"CATALOG_PRODUCT\".\"ID\" = \"SHOP_ORDERITEM\".\"PRODUCT_ID\" WHERE \"SHOP_ORDER\".\"USER_ID\" = ? AND \"SHOP_ORDER\".\"STATUS\" IN (?, ?, ?) ORDER BY \"SHOP_ORDER\".\"CREATED_AT\" DESC, \"SHOP_ORDER\".\"ID\" DESC FETCH FIRST ? ROWS ONLY"}, "orm oracle correlated exists": {"hash": "10add0118109478ea7342e25b84133be23a53cebb5ce9322b0895bab9ea012ec", "normalized": "SELECT \"AUTH_USER\".\"ID\" AS \"COL1\", \"AUTH_USER\".\"EMAIL\" AS \"COL2\" FROM \"AUTH_USER\" WHERE EXISTS (SELECT ? FROM \"SHOP_ORDER\" WHERE \"SHOP_ORDER\".\"USER_ID\" = \"AUTH_USER\".\"ID\" AND \"SHOP_ORDER\".\"STATUS\" = ? AND \"SHOP_ORDER\".\"TOTAL_CENTS\" > ?) ORDER BY \"AUTH_USER\".\"ID\" FETCH FIRST ? ROWS ONLY"}, "orm oracle cte aggregation": {"hash": "942169e6afb62f2f84af13189f7c706ee3e5d6b6c4874a4b62963292ce112661", "normalized": "WITH \"RECENT_ORDERS\" AS (SELECT \"SHOP_ORDER\".\"ID\" AS \"ID\", \"SHOP_ORDER\".\"USER_ID\" AS \"USER_ID\", \"SHOP_ORDER\".\"TOTAL_CENTS\" AS \"TOTAL_CENTS\", \"SHOP_ORDER\".\"CREATED_AT\" AS \"CREATED_AT\" FROM \"SHOP_ORDER\" WHERE \"SHOP_ORDER\".\"CREATED_AT\" >= TO_DATE(?, ?) AND \"SHOP_ORDER\".\"STATUS\" IN (?, ?)) SELECT \"RECENT_ORDERS\".\"USER_ID\" AS \"COL1\", COUNT(*) AS \"COL2\", SUM(\"RECENT_ORDERS\".\"TOTAL_CENTS\") AS \"COL3\" FROM \"RECENT_ORDERS\" GROUP BY \"RECENT_ORDERS\".\"USER_ID\" HAVING COUNT(*) >= ? ORDER BY SUM(\"RECENT_ORDERS\".\"TOTAL_CENTS\") DESC FETCH FIRST ? ROWS ONLY"}, "orm oracle case when": {"hash": "58c16e7d0a7d7a89563970f4c373eeffe7cbb997f5901f974ba5d10e5fd34a96", "normalized": "SELECT CASE WHEN \"AUTH_USER\".\"IS_ACTIVE\" = ? THEN ? ELSE ? END AS \"COL1\" FROM \"AUTH_USER\" WHERE \"AUTH_USER\".\"ID\" = ?"}, "orm oracle rownum pagination legacy": {"hash": "c8b2025da1fc305cbfe622f321e0478b40dd89f98eee06f26a3d0a817181ff84", "normalized": "SELECT * FROM (SELECT \"AUTH_USER\".\"ID\" AS \"COL1\", \"AUTH_USER\".\"EMAIL\" AS \"COL2\" FROM \"AUTH_USER\" WHERE \"AUTH_USER\".\"IS_ACTIVE\" = ? ORDER BY \"AUTH_USER\".\"ID\") WHERE ROWNUM <= ?"}, "orm oracle sysdate usage": {"hash": "624773132020bb58d4dabb62073edb5936c9bfba7f76edd38226de8522a57d13", "normalized": "SELECT \"SHOP_ORDER\".\"ID\", \"SHOP_ORDER\".\"CREATED_AT\" FROM \"SHOP_ORDER\" WHERE \"SHOP_ORDER\".\"CREATED_AT\" >= SYSDATE - ? ORDER BY \"SHOP_ORDER\".\"CREATED_AT\" DESC"}, "orm oracle cast and functions": {"hash": "19eaf958daafa2d8478328a616efafd9301a05b6ea636d820bf599c6fcf8e14a", "normalized": "SELECT CAST(\"AUTH_USER\".\"ID\" AS NUMBER) AS \"COL1\", LOWER(\"AUTH_USER\".\"EMAIL\") AS \"COL2\", COALESCE(\"AUTH_USER\".\"EMAIL\", ?) AS \"COL3\" FROM \"AUTH_USER\" WHERE \"AUTH_USER\".\"ID\" = ?"}, "orm oracle in list huge": {"hash": "035884f1498580375d3130752c9a530499c5ca3f29d9bf063b23db6232aa26c7", "normalized": "SELECT \"AUTH_USER\".\"ID\", \"AUTH_USER\".\"EMAIL\" FROM \"AUTH_USER\" WHERE \"AUTH_USER\".\"ID\" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ORDER BY \"AUTH_USER\".\"ID\""}, "orm oracle update": {"hash": "562ec42dbfc30dfcd64d07b194bef5e19f9bf5fb92b4b7cb72a77029a5a1a56b", "normalized": "UPDATE \"PROFILE_PROFILE\" SET \"TIMEZONE\" = ?, \"UPDATED_AT\" = SYSTIMESTAMP WHERE \"PROFILE_PROFILE\".\"USER_ID\" = ?"}}
